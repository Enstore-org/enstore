<html><body><pre>
			ENCP release notes, from v2_17 to v2_18.



Encp changes:
=============

If routing is enabled, whenever a resubmission occurs the interface and port
encp listens on for the mover to call back is reinitialized.

For reads, if the target directory does not support pathconf() queries
print message to stderr and continue.  Previously, it would stop the transfer.
The user continues at her own risk.

Fix was made so the inteface is available on the EncpHistory page for
users.  Previously just the node (hostip) was available.

Sufficient disk space checked on reads before starting transfer.  Note: This does not guarantee that
the encp will not fail with NOSPACE.

Misc.:
======

The previous enstore/encp version only supported routing to specific hosts,
not subnets.  This allows users to set the route to the enstore subnet by
statically  and avoid dynamic manipulation of the routing table.  This only works
correctly if one interface will be used for all enstore traffic and the
hostip line is the only valid line in the enstore.conf file.

Enstore/encp was incorrectly parsing the routing table on some nodes.  This has
been fixed.

The library manager now reports PURSUING instead of LIMIT_REACHED.

	

			Detailed cvs commit logs



========== ./bin/cleaning_report.py ====================================================================================

add time printing 

correct count per library 

separate by library 

========== ./bin/fix_pnfs_layer.py ====================================================================================

modified compare_all 

fixed compare_all 

========== ./doc/WWW/index.html ====================================================================================

add link to overall bytes transferred plot 

========== ./doc/WWW/read.obj ====================================================================================

Updated for correctness after the antispoofing fix. 

========== ./doc/WWW/talks.html ====================================================================================

add reaad.ps and write.ps 

========== ./doc/WWW/write.obj ====================================================================================

Updated for correctness after the antispoofing fix. 

========== ./etc/enstore.htaccess ====================================================================================

allow desy and cern access 

========== ./etc/sam.conf ====================================================================================

CRC selective check frequency back to what it was 

check every written file 

remove version restrictions 

set minimal encp version v2_17 for d0mino 

set minimal encp version v2_17 for d0mino 

add more msg_type_logs to log_server 

========== ./etc/stk.conf ====================================================================================

allow up to 3 simultaneous transfers fo snickers 

CRC selective check frequency back to what it was 

check every written file 

Allocate 10 eagle tapes for e835 

Added e907 

re-order e871 

========== ./etc/enstoreConfHelp.html ====================================================================================

hostip - must be interface entry ip 

========== ./etc/cdf.conf ====================================================================================

CRC selective check frequency back to what it was 

check every written file 

v2_17 introduced 

========== ./etc/auth_stk.conf ====================================================================================

Add more spaces as another test 

Removed some spaces. Yes this really works. 

Just a test to see if this work as advertized 

========== ./etc/enstore_system_info.html ====================================================================================

add in release notes page 

========== ./modules/EXfer.c ====================================================================================

Fixes a problem with large files in threaded mode. The select(s) would slowly eat away at the timeout value until it would run out. Also, there is an interface change with encp.py. Requires encp.py 1.496. 

========== ./modules/Setup ====================================================================================

make EXFER_THREADED default value from Setup 

========== ./sbin/chkcrons ====================================================================================

add a dash 

add title to ps and jpg files too 

========== ./sbin/mod_config ====================================================================================

add more directions at end 

========== ./sbin/readDcache ====================================================================================

update for new rev of dcache software - now in production 

========== ./sbin/netscan ====================================================================================

more checks to better allow ENCP unauthorized alarms 

change from tcp to listen operation no spaces allowed in allow specification 

another attempt on skipping enstore log parsing operations 

put processes into file, echo getting too big allow any swapped out process - dangerous? 

allow alarm client 

limit search to products area 

========== ./sbin/silo-check ====================================================================================

take out check for more than 1 tower - tapes are not duplicated, query is bad 

thought I fixed this 

remove dang bugs 

ignore disk and shel for all libraries 

add in d0en aml2 check 

========== ./src/Makefile ====================================================================================

better handle for threaded version of encp 

========== ./src/Trace.py ====================================================================================

fix bug in alarm function 

get event relay host from config file 

allow specifying msg_type to handle_error 

========== ./src/alarm.py ====================================================================================

fix alarms read in from log file 

========== ./src/encp.py ====================================================================================

bumping version to v2_18 because of encpCut 

Fixed one exception catch where the msg.errno attribute was accessed, but there isn't always an errno attribute. 

Undo a development change that should have been done for the previous commit. 

After timing out waiting for the mover to call back, reinitialize the routing socket server before resending the ticket to the library manager. 

Contains a number of fixes. pathconf errors are handled better. encp_interface is added to ENCP_XFER log message. Sufficent disk space checked on reads. Some changes in routing. New interface between encp.py and EXfer.c. Needs EXfer.c 1.58 or higher. 

Networking fix for the d0ola cluster. 

========== ./src/enstore_constants.py ====================================================================================

add VQFORMATED 

add total bytes written/day plot 

add bytes written/day 

add total bytes for all 3 systems plots 

keep history of bpd 

========== ./src/enstore_files.py ====================================================================================

init nav_link 

add burn-rate plots 

add total bytes for all 3 systems plots 

========== ./src/enstore_functions.py ====================================================================================

add total bytes for all 3 systems plots 

========== ./src/enstore_html.py ====================================================================================

add a link to the alarm page 

add total bytes written/day plot 

add bytes written/day 

check if have state before splitting 

fix nav_lin init 

add burn-rate plots 

add total plot to page 

output time in state with libraries active vols 

keep history of bpd 

========== ./src/enstore_make_plot_page.py ====================================================================================

change title of fix_url plot 

change format of plot titles 

add english names to cron job plots 

========== ./src/enstore_plots.py ====================================================================================

add total bytes written/day plot 

add bytes written/day 

an encp line without an I is invalid 

widen lines on total bpd plot 

move skinny lines to total mounts plot 

reformat a line 

allow long timespan plots to have thinner lw 

sum up drive ids that are really the same 

add total bytes for all 3 systems plots 

debugging encp plots 

type fix 

fix bug in reading in old pts file 

fix bug in cleanup 

clean up a little more after plotting 

keep history of bpd 

========== ./src/enstore_status.py ====================================================================================

an encp line without an I is invalid 

change wording of mover with have bound volume status 

========== ./src/enstore_up_down.py ====================================================================================

set a reason if enstore red because overridden 

========== ./src/espion.py ====================================================================================

add debug printing to event relay 

add dump and handle errors to event_relay 

========== ./src/event_relay.py ====================================================================================

fix bug in getting socket 

use cleanUDP for send socket 

call getsockopt 

make send socket blocking bug fix 

make send socket blocking 

add debug printing to event relay 

add more to error message 

add msg to error output 

change name of error message 

clean out timeouts on subscribe 

add more cleanup and 1 less dump 

add time stamp 

remove import of traceback 

add dump and handle errors to event_relay 

add traceback info on error 

========== ./src/event_relay_client.py ====================================================================================

get node for event_relay 

get event relay host from config file 

add debug printing to event relay 

add dump and handle errors to event_relay 

========== ./src/event_relay_messages.py ====================================================================================

add debug printing to event relay 

add dump and handle errors to event_relay 

========== ./src/host_config.py ====================================================================================

Hack for OSF1 to ignore the bit section of the route destination. 

Bug fix for the subnet test when testing if the route is already in the routing table. 

Networking fix for the d0ola cluster. 

========== ./src/inquisitor.py ====================================================================================

add timeouts for lm functs 

change inq to self 

change inq to self 

add a try loop in write thread 

========== ./src/inquisitor_plots.py ====================================================================================

add total bytes written/day plot 

add bytes written/day 

add burn-rate plots 

allow plots to be created without web page getting updated 

add total bytes for all 3 systems plots 

debugging encp plots 

clean up a little more after plotting 

keep history of bpd 

========== ./src/library_manager.py ====================================================================================

add traces 

replaced LIMIT_REACHED with PURSUING 

========== ./src/library_manager_client.py ====================================================================================

add timeouts for lm functs 

========== ./src/manage_queue.py ====================================================================================

removed print statement 

replace routing_callback_addr in the request if it is already in the queue 

========== ./src/mover.py ====================================================================================

back off the recent change 

update lm when state has chaged to SETUP 

fixed a logic error caused by a wrong indentation 

raise ENCP_GONE exception if number of written bytes is not equal to number of bytes to write over the network 

========== ./src/plotter.py ====================================================================================

add total bytes written/day plot 

change label to Bytes Written 

add burn-rate plots 

allow plots to be created without web page getting updated 

add total bytes for all 3 systems plots 

========== ./src/pnfs.py ====================================================================================

Change so that the --size command can actually be used. 

========== ./src/restore.py ====================================================================================

finish option coversion 

remove knowledge of interface.py 

========== ./src/volume_clerk.py ====================================================================================

now take null volume into consideration 

do not generate alarm when running out of NULL volumes 

========== ./src/log_trans_fail.py ====================================================================================

exclude disk movers 

========== ./src/option.py ====================================================================================

allow plots to be created without web page getting updated 

add total bytes for all 3 systems plots 

========== ./src/enstore_show_inventory_cgi.py ====================================================================================

make VOLUME_CROSS_CHECK for all systems 

correct a typo 

add VOLUME_CROSS_CHECK to d0en 

add CLEANING page to all 

add 'NOACCESS' link to all clusters 

========== ./src/udp_server.py ====================================================================================

Networking fix for the d0ola cluster. 

========== ./src/enstore_overall_status.py ====================================================================================

add total bytes for all 3 systems plots 

========== ./test/parse-EXfer-profile.py ====================================================================================

add some more info for plots 

========== ./ups/enstore.table ====================================================================================

do not go through a file. Simon Epstein 

</pre></body></html>
