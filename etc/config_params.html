<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Enstore Configuration Keys</title>
  </head>

  <body>
    <body text="#000066" bgcolor="#FFFFFF" link="#0000EF" vlink="#55188A" aqlink="#FF0000" background="enstore.gif">
    <h1>Enstore Configuration Keys</h1>



    <hr>
<p>
&nbsp;
<p>
<h2>Common Keys (for all servers)</h2>
<h3> All mandatory common keys must be defined in all servers and
	movers configurations </h3>
<table border="1" cellpadding="4" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="host">host</a></td><td>server host name</td><td>Mandatory</td><td>None</td><tr>
<tr><td><a NAME="hostip">hostip</a></td><td>server host IP address</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="port">port</a></td><td>server port number</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="logname">logname</a></td><td>server name in the log</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="inq_ignore">inq_ignore</a></td><td>if present the
		inquisitor will not monitor corresponding server</td>
	      <td>Optional</td><td>None</td>
</tr>
<tr><td><a NAME="norestart">norestart</a></td><td>if present inq will
		not restart corresponding  server/mover</td>
	      <td>Optional</td><td>None</td>

</tr>
<tr><td><a NAME="noupdown">noupdown</a></td><td>'enstore system' process will not look at the
corresponding server when generating the SAAG page, and will not use
		      the information in deciding to turn the ball
		red</td>
	      <td>Optional</td><td>None</td>

</tr>
</table>

<h2>Priority</h2>
<table border="1" cellpadding="4" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="priority">priority</a></td><td>priority of incoming requests</td><td>Optional</td><td>None</td><tr>

</tr>
</table>

<h2>Discipline -restrict requests coming from certain (set of) host(s)</h2>
<table border="1" cellpadding="4" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="discipline">discipline</a></td>
<td>
<br>library_manager_1: # as described in configuration
<br>   {1: # first entry
<br>       'host': host1, # rule applies to this host (regex)
<br>       'function': discipline_function, # restrict_host_access
<br>       'args':[host1, # rule applies to this host
<br>               (max_allowed, # maximal concurrent requests
<br>               addtl_read,   # additional reads for bound volumes
<br>               addtl_write)  # additional writes for bound volumes
<br>               ],
<br>       'action': action}, # ignore, noread, nowrite
<br>    2: {....
<br>    }
<br>library_manager_2:
<br>   { ...}

</td>
<td>Optional</td><td>None</td>

</tr>
</table>

<h2>Library Manager Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="allow">allow</a></td><td>allow host access on a per storage group.
	      </td>
	      <td>Optional</td><td>None</td>
</tr><tr><td><a NAME="lock">lock</a></td><td>if specified LM will start in
	      this state.
	      Allowed values:<br>lock - reject encp requests, give
	      out works in the pending queue to movers<br>
	      unlocked<br>
	      ignore - do not put encp requests into pending queue,
	      but return ok to encp<br>
	      pause - same as ignore, but also do not give out works
	      in the pending<br>
	      moverlock - reject mover requests<br>
	      nowrite - locked for write requests<br>
	      noread - locked for read requests</td>
	      <td>Optional</td><td>unlocked</td>
</tr>
<!--<tr><td><a NAME="max_encp_retries">max_encp_retries</a></td><td>maximal number of encp retries for a given LM</td></tr>-->
<tr><td><a NAME="max_suspect_movers">max_suspect_movers</a></td><td>if
	      number of suspect movers on which a given volume failed
	      >= of max_suspect_movers, this volume will be set to
	      NOACCESS state</td>
	      <td>Optional</td><td>3</td>
</tr>
<tr><td><a NAME="suspect_volume_expiration_time">suspect_volume_expiration_time</a></td><td>remove entry from suspect volume list after this period of time</td>
	      <td>Optional</td><td>None</td>

</tr>
<tr><td><a NAME="min_file_size">min_file_size</a></td><td>minimal file
		  size</td>
	      <td>Optional</td><td>0</td>

</tr>
<tr><td><a NAME="max_file_size">max_file_size</a></td><td>maximal size
	      of the file allowed by this library</td>
	      <td>Optional</td><td>2GB-2kB</td>

</tr>
<tr><td><a NAME="max_in_active">max_in_active</a></td><td>maximal time allowed for the
	      transfer to be in ACTIVE state</td>
	      <td>Optional</td><td>7200(s)</td>

<tr><td><a NAME="max_in_other">max_in_other</a></td><td>maximal time allowed for the
	      transfer or mover to be in other than ACTIVE state</td>
	      <td>Optional</td><td>2000(s)</td>

</tr>

<tr><td><a NAME="blank_error_increment">blank_error_increment</a></td><td>do not set volume to NOACCESS in case of FTT_EBLANK error until the number of erros exceeds max_suspect_movers+blank_error_increment</td>
	      <td>Optional</td><td>5</td>

</tr>
<tr><td><a
		NAME="legal_encp_version">legal_encp_version</a></td><td>minimal encp version number allowed to acess enstore</td>
	      <td>Optional</td><td>None</td>

</tr>
<tr><td><a
	   NAME="CleanTapeVolumeFamily">CleanTapeVolumeFamily</a></td><td>volume family for cleaning tapes</td>
	   <td>Optional</td><td>None</td>

</tr>
<tr><td><a
	   NAME="storage_group_limits">storage_group_limits</a></td><td>Minimal amount of drives that can be used by a certain storage group (fair share) when different storage groups compete for tape drives</td>
	   <td>Optional</td><td>None</td>

</tr>
<tr><td><a
	   NAME="max_requests">max_requests</a></td><td>Maximal amount
	      of requests in the queue. The rest will be ignored (and
	      retried later by encp)</td>
	   <td>Optional</td><td>3000 (No restart)</td>

</tr>

<tr><td><a
	   NAME="mover_port">mover_port</a></td><td>Movers will
	      communucate with library manager
	      on this port if specified.
	      </td>
	   <td>Optional</td><td>None</td>

</tr>
<tr><td><a
	   NAME="encp_port">encp_port</a></td><td>Clents (encp) will
	      communucate with library manager
	      on this port if specified.
	      </td>
	   <td>Optional</td><td>None</td>

</tr>
<tr><td><a
	   NAME="use_raw_input">use_raw_input</a></td><td>Use buffer to
	      pull out requests from UDP buffer as fast as possible.
	      </td>
	   <td>Optional</td><td>False</td>

</tr>
<tr><td><a
	   NAME="volume_clerk_timeout">volume_clerk_timeout</a></td><td>Receive TO for volume clerk requests
	      </td>
	   <td>Optional</td><td>10 (s)</td>

</tr>
<tr><td><a
	   NAME="volume_clerk_retry">volume_clerk_retry</a></td><td>Number of retries for volume clerk requests
	      </td>
	   <td>Optional</td><td>0</td>

</tr>
<tr><td><a
	   NAME="use_threads">use_threads</a></td><td>Use separate
	      threads for every mover request (shows problems during
	      testing, avoid setting to True).
	      </td>
	   <td>Optional</td><td>False</td>

</tr>
<tr><td><a NAME="use_LMD">use_LMD</a></td><td>for SFA clients use this Library Manager Director</td>
	      <td>Optional</td><td>None</td>

</tr>
</table>

<h2>Mover Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>


<tr><td><a NAME="do_eject">do_eject</a></td><td>eject tape on dismount</td>
	   <td>Optional</td><td>'yes'</td>
</tr>

<tr><td><a NAME="do_cleaning">do_cleaning</a></td><td>clean tape drive
	      by the mover request</td>
	   <td>Optional</td><td>'yes'</td>
</tr>

<tr><td><a NAME="mc_device">mc_device</a></td><td>media changer device
	      as declared in the robot</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="min_buffer">min_buffer</a></td><td> minimal amount of
	      memory to allocate for buffering when transferring data
	      </td>
	   <td>Optional</td><td>8MB</td>

</tr>

<tr><td><a NAME="max_buffer">max_buffer</a></td><td>maximal amount of
	      memory to allocate for buffering (recommended not less
	      than 1GB</td>
	   <td>Optional</td><td>64MB</td>
</tr>

<tr><td><a NAME="max_rate">max_rate</a></td><td>maximum sustained
	      transfer rate for writes. Used to calculate optimal
	      buffer size. Recommended to set to the max. rate of the drive</td>
	   <td>Optional</td><td>11.2MB</td>

</tr>

<tr><td><a NAME="device">device</a></td><td>pathname to the UNIX tape
	      device</td>
	   <td>Mandatory</td><td>None</td>

</tr>

<tr><td><a NAME="dismount_delay">dismount_delay</a></td><td>delayed
	      dismount value to use when none specified by the client.
	      Set to negative value to get
	      "infinite" dismount delay</td>
	   <td>Optional</td><td>60s</td>
</tr>

<tr><td><a NAME="mount_delay">mount_delay</a></td><td>number of
	      seconds to wait after media changer mount completes,
	      before trying to open device. Default is 15 for FTT
	      driver, 0 for NULL driver</td>
	   <td>Optional</td><td>15s</td>

</tr>

<tr><td><a
		NAME="max_dismount_delay">max_dismount_delay</a></td><td>maximal dismount delay that can be set for this mover</td>
	   <td>Optional</td><td>600s</td>

</tr>

<tr><td><a NAME="library">library</a></td><td>library(ies) that this
	      mover serve</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="driver">driver</a></td><td>low lewel media driver ('FTTDriver' for tape, 'NullDriver'
for null mover)</td>
	   <td>Mandatory</td><td>None</td>

</tr>

<tr><td><a
	   NAME="max_consecutive_failures">max_consecutive_failures</a></td><td>number of any consecutive errors after which the mover goes OFFLINE</td>
	   <td>Optional</td><td>2</td>

</tr>

<tr><td><a NAME="max_failures">max_failures</a></td><td>Mover will go
	      OFFLINE if this many transfers fail within
	      failure_interval (see below)</td>
	   <td>Optional</td><td>3</td>
</tr>

<tr><td><a
		NAME="failure_interval">failure_interval</a></td><td>Interval for above</td>
	   <td>Optional</td><td>3600s</td>
</tr>

<tr><td><a NAME="send_stats">send_stats</a></td><td>send tape drive
	      statistics to the drivestat Data Base (defaul value 1,
	      which means "send")</td>
	   <td>Optional</td><td>1</td>

</tr>

<tr><td><a NAME="type">type</a></td><td>specifies the type of mover
	      ('','Mover','DiskMover')</td>

	   <td>Optional</td><td>""</td>
</tr>

<tr><td><a NAME="media_type">media_type</a></td><td>media type used
	      for the mover. Recommended to set to the type of the media</td>
	   <td>Optional</td><td>"8MM"</td>
</tr>

<tr><td><a NAME="log_state">log_state</a></td><td>if set log the state
	      of the mover processes. Used for debugging</td>
	   <td>Optional</td><td>None</td>
</tr>

<tr><td><a NAME="syslog_entry">syslog_entry</a></td><td>expression to
	      match in the syslog for the low level failure
	      diagnostics</td>
	   <td>Optional</td><td>None</td>

</tr>

<tr><td><a NAME="restart_on_error">restart_on_error</a></td><td>restart mover if it went to the ERROR
state. Default - do not restart</td>
	   <td>Optional</td><td>None</td>
</tr>

<tr><td><a NAME="connect_timeout">connect_timeout</a></td><td>TimeOut
	      for mover connection to encp</td>
	   <td>Optional</td><td>15s</td>

</tr>

<tr><td><a NAME="connect_retries">connect_retries</a></td><td>number
	      of connection retries to encp</td>
	   <td>Optional</td><td>4</td>

</tr>

<tr><td><a NAME="update_interval">update_interval</a></td><td>interval
	      for the mover to ask LM for the work. Recommended value 5
	      s)</td>
	   <td>Optional</td><td>15</td>
</tr>

<tr><td><a NAME="single_filemark">single_filemark</a></td><td>if not 0
	      write single file mark (Default value - 0 - write 2
	      filemarks)</td>
	   <td>Optional</td><td>0</td>
</tr>

<tr><td><a NAME="check_written_file">check_written_file</a></td><td>if
		  greater than 0, then randomly check files written
		  using this number as the mean (default value:0 - don't
	      check)</td>
	   <td>Optional</td><td>0</td>

</tr>

<tr><td><a
	   NAME="check_first_written_file">check_first_written_file</a></td><td>Reread and check CRC on a first write after a tape mount</td>
	   <td>Optional</td><td>0</td>

</tr>
<tr><td><a
	   NAME="max_time_in_state">max_time_in_state</a></td><td>maximal time for a mover to be in any transfer state (other than IDLE or ACTIVE)</td>
	   <td>Optional</td><td>600s</td>

</tr>

<tr><td><a NAME="max_in_state_cnt">max_in_state_cnt</a></td><td>if
	      this counter expires Mover errors out with "Mover
	      stuck..." message.</td>
	   <td>Optional</td><td>3</td>

</tr>

<tr><td><a NAME="statistics_path">statistics_path</a></td><td>path to
		  the statistics file(default - None)</td>
	   <td>Optional</td><td>None</td>
</tr>

<tr><td><a NAME="compression">compression</a></td><td>0 means no
	      compression. Everything else means use the drive
	      compression (default: None - use the drive
	      compression). Set this key to 0!!!</td>
	   <td>Optional</td><td>None</td>

</tr>

<tr><td><a
		NAME="get_remaining_from_stats">get_remaining_from_stats</a></td><td>get remaining bytes info from drive</td>
	   <td>Optional</td><td>None</td>

</tr>
<tr><td><a
		NAME="blank_error_increment">blank_error_increment</a></td><td>Sometimes ftt returns FTT_EBLANK for not blank tapes. To allow a tape to be in a pool and not to go to NOACCESS.</td>
	   <td>Optional</td><td>5</td>

</tr>
<tr><td><a
	NAME="expected_time_factor">expected_time_factor</a></td><td>If time in
	state is more expected_time_factor * expected_transfer_time -
	      break connection. Applies only for read requests.</td>
	   <td>Optional</td><td>50</td>

</tr>
<tr><td><a NAME="read_crc_control">read_crc_control</a></td><td>0
	      - calculate CRC when transferring data, 1 - calculate
	      CRC when reading from tape (old default behavior).</td>
	   <td>Optional</td><td>0</td>

</tr>
<tr><td><a NAME="tmp_dir">tmp_dir</a></td><td>
	      temporary place for written files (for disk mover only!)</td>
	   <td>Optional</td><td>None</td>

</tr>
<tr><td><a NAME="remaining_factor">remaining_factor</a></td><td>
	      Factor used to calculate remaining bytes based on the capacity:
	      (remaining = remaining_factor*capacity)</td>
	   <td>Optional</td><td>0.01</td>

</tr>
</table>


<h2>Media Changer Keys</h2>
<h3> Some media changer keys are specific for different types of
	robotic libraries</h3>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="type">type</a></td><td>type of the media changer
	      (currently RDD_MediaLoader - for null movers,
	      STK_MediaLoader, AML2_MediaLoader, Manual_MediaLoader)</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="acls_host">acls_host</a></td><td>host name of STK
	      robot control machine (specific for STK Library)</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="acls_uname">acls_uname</a></td><td>user name to
	      access STK robot control program (specific for STK
	      Library)</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="RobotArm">RobotArm</a></td><td>robot arm in AML2
	      robot (specific for AML2 robotic library)</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="IdleTimeHome">IdleTimeHome</a></td><td>home robot arm
	      if it is idle and not in a home position after this
	      period of time has expired (default 5 min, specific for
	      AML2 robotic library)</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="IOBoxMedia">IOBoxMedia</a></td><td>specifies types of
	      media and addresses of IO box for importing/exporting
	      tapes into the robot (specific for AML2 robotic
	      library)</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="DriveCleanTime">DriveCleanTime</a></td><td>if
	      present, specifes the type of media, time until cleaning
	      tape gets dismounted and number of cleaning cycles to
	      clean a tape drive</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="max_work">max_work</a></td><td>if
	      present, specifes the maximal number of simultaneous
	      requests to robot.</td>
	   <td>Optional</td><td>7</td>
</tr>
<tr><td><a NAME="tape_library">tape_library</a></td><td>if
	      present, suplies a name to the tape library (robot) for
	      reporting.</td>
	   <td>Optional</td><td>SL8500</td>
</tr>

</table>

<h2>Volume Clerk Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="max_noaccess_cnt">max_noaccess_cnt</a></td><td>if
	      number of volumes consecutively set to NOACCES reaches
	      this number, the corresponding library will be paused</td>
	   <td>Optional</td><td>2</td>
</tr>
</table>

<h2>File Clerk Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="brand">brand</a></td><td>brand for bit file id to
	      distinguish between systems</td>
	   <td>Optional</td><td>""</td>
</tr>
</table>

<h2>Info Server Keys</h2>
Uses only general keys (along with database keys which are the same
      for file, volume clerks and info server).

<h2>Database Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="db_dir">db_dir</a></td><td>Aux database directory</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="jou_dir">jou_dir</a></td><td>enstore database journal
	      directory</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbhost">dbhost</a></td><td>enstore database host</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbname">dbname</a></td><td>enstore database name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbport">dbport</a></td><td>enstore database port</td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbuser">dbuser</a></td><td>enstore database account
           </td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="dbuser_reader">dbuser_reader</a></td><td>enstore readonly database account
           </td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbserverowner">dbserverowner</a></td><td>owner of
           enstore database server process</td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbarea">dbarea</a></td><td>enstore database area
           </td>
	   <td>Mandatory</td><td>None</td>

</tr>
</table>

<h2>Accounting Server Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="dbhost">dbhost</a></td><td>accounting data base host
	      machine</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbport">dbport</a></td><td>accounting database
	      port</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="dbname">dbname</a></td><td>accounting data base
	      name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbuser">dbuser</a></td><td>enstore database account
           </td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="dbuser_reader">dbuser</a></td><td>enstore readonly database account
           </td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbserverowner">dbserverowner</a></td><td>owner of
           enstore database server process</td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbarea">dbarea</a></td><td>enstore database area
           </td>
	   <td>Mandatory</td><td>None</td>

</table>


<h2>Drivestat Server Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="dbhost">dbhost</a></td><td>drivestat database
	      host</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbport">dbport</a></td><td>drivestat database
	      port</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbname">dbname</a></td><td>drivestat data base
	      name</td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbuser">dbuser</a></td><td>enstore database account
           </td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="dbuser_reader">dbuser</a></td><td>enstore readonly database account
           </td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbserverowner">dbserverowner</a></td><td>owner of
           enstore database server process</td>
	   <td>Mandatory</td><td>None</td>

<tr><td><a NAME="dbarea">dbarea</a></td><td>enstore database area
           </td>
	   <td>Mandatory</td><td>None</td>

</tr>
</table>

<h2> Web Server Keys: define httpd.conf and top level directories <h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="ServerHost">ServerHost</a></td> <td>name of the host running http server</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="ServerName">ServerName</a></td> <td>name of web server</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="DocumentRoot">DocumentRoot</a></td> <td>top level web directory</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="ScoreBoardFile">ScoreBoardFile</a></td> <td>ScoreBoardFile</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="PidFile">PidFile</a></td> <td>full path to httpd pid file</td><td>Mandatory</td><td>None</td></tr>
<tr><td><a NAME="CustomLog">CustomLog</a></td> <td>

<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><td><a NAME="combined">combined</td><td> full path to combined log file </td></tr>
<tr><td><a NAME="referer">referer</td><td> full path to referer log file </td></tr>
<tr><td><a NAME="agent">agent</td><td> full path to agent log file </td></tr>
</table>
</td>
<td>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr> <td>Mandatory</td></tr>
<tr> <td>Mandatory</td></tr>
<tr> <td>Mandatory</td></tr>
</table>
</td>
<td>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr> <td>None</td></tr>
<tr> <td>None</td></tr>
<tr> <td>None</td></tr>
</table>
</td>
</tr>
<tr><td><a NAME="ServerRoot">ServerRoot</a></td> <td>location of httpd.conf (e.g. /etc/httpd)</td><td>Mandatory</td><td>None</td></tr>

<tr><td><a NAME="ScriptAlias">ScriptAlias</a></td> <td>

<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><td><a NAME="fake">fake</td><td> e.g. /cgi-bin/ </td></tr>
<tr><td><a NAME="real">real</td><td> real path to cgi scripts </td></tr>
</table>
</td>
<td>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF" >
<tr> <td>Mandatory</td></tr>
<tr> <td>Mandatory</td></tr>
</table>
</td>
<td>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr> <td>None</td></tr>
<tr> <td>None</td></tr>
</table>
</td>
</tr>

</table>


<h2>Inquisitor Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a
		NAME="alive_rcv_timeout">alive_rcv_timeout</a></td><td>amount of time to wait when doing a tcp transfer</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="alive_retries">alive_retries</a></td><td>number of
	      times to retry a failed tcp transfer</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a
		NAME="default_alive_interval">default_alive_interval</a></td><td>number of seconds expected between alive messages from the event_relay</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a
		NAME="default_hung_interval">default_hung_interval</a></td><td>number of seconds after which if no alive message is received, the server is marked as dead</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="html_file">html_file</a></td><td>directory location
	      of the html web area</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a
		NAME="http_log_file_path">http_log_file_path</a></td><td>path to log files in the as used in a url</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="max_encp_lines">max_encp_lines</a></td><td>maximum
	      number of encps reported on the encp history page</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="node_write_check">node_write_check</a></td><td>set an
	      alarm if there are writes in the library manager queue
	      (from these nodes) and there are no active transfers
	      from the nodes</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="refresh">refresh</a></td><td>automatic refresh rate
	      for the web pages</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="user_log_dirs">user_log_dirs</a></td><td>dictionary specifying
		  additional links that should be added to the log
		  file web page under user log dirs</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="www_host">www_host</a></td><td>url description of the
	      web host</td>
	   <td>Mandatory</td><td>None</td>
</tr>
</table>



<h2>Alarm Server Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="alarm_actions">alarm_actions</a></td><td>dictionary
	      describing actions to be taken when the specified alarms
	      are received.  the format is as follows:
	      <p>
	      {severity_string:[[action1, action_parameters, action_parameters],
              <p>
              ...],
	      <p>
	       ...}
	      <p>
              <ul>
		<lh>severity_string is one of:</lh>
		<li>'A' - for a regular alarm
		<li>'E' - for an error alarm
		<li>'U' - for a User error/alarm
		<li>'W' - for a warning alarm
		<li>'I' - for an information alarm
		<li>'C' - for an e-mailable alarm - only type with currently defined actions
	      </ul>
	      <ul>
		<lh>there currently is only one supported action:</lh>
		<li>send_mail
		   <ul>
			<lh>send_mail first action_parameter</lh>
			<li>'*' - to send e-mail for every occurance
			<li>'1' - to send e-mail for just the first occurance,
				any additional alarms go to the alarms page
		   </ul>
		   <p>
		   <ul>
			<lh>send_mail second action_parameter is a dictionary of storage_group and e-mail address pairs or a string of comma seperated e-mails address</lh>
			<li>{'test' : 'enstore-auto@fnal.gov',<p>
				'ssa_test' : 'ssa-group@fnal.gov,enstore-auto@fnal.gov'}<p>
			<li>'ssa-group@fnal.gov,enstore-auto@fnal.gov'
		   </ul>
	      </ul></td>
	   <td>Mandatory</td><td>None</td>
</tr>
</table>

<h2>Log Server Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="log_file_path">log_file_path</a><td>path to the log
	      files directory</td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="msg_type_logs">msg_type_logs</a><td>log extractions
	      based on the log type pattern</td>
	   <td>Optional</td><td>None</td>

</tr>
</table>


<h2>System Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="allowed_down">allowed_down</a></td><td>dictionary
	      defining how many times a server is allowed down before
	      it is marked with a red ball by the 'enstore system'
	      command.  each server has a list associated with it that
	      has the followinw format -  [number of consecutive times
	      when checked and no alive message rcvd, timeout]</td>
	   <td>Mandatory</td><td>None</td>
</tr>
</table>

<h2>Encp Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="crc_seed">crc_seed</a><td>value of the initial adler32 seed.
	      the standard says this should be one, but some institutions
	      have decided to use zero.</td>
	   <td>Optional</td><td>1</td>
</tr>
</table>

<h2>pnfs server Keys (optional)</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="host">host</a><td>host on which pnfs server runs.</td>
	   <td>Mandatory</td><td>None</td>
</tr>
</table>


<h2>Namespace Keys</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="dbhost">dbhost</a></td><td>chimera database host machine</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbport">dbport</a></td><td>chimera database port</td>
	   <td>Mandatory</td><td>None</td>
</tr>

<tr><td><a NAME="dbname">dbname</a></td><td>chimera database name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dbuser">dbuser</a></td><td>chimera database user
           </td>
	   <td>Mandatory</td><td>None</td>
</table>



<h1>Additional Keys for File Aggregation Configuration</h1>
<hr>
See details in "Small Files Aggregation High Level Design" document.
<br>
<h2>Dispatcher</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="queue_work">queue_work</a></td><td>Incoming queue name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="queue_reply">queue_reply</a></td><td>Reply queue name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
</tr>
<tr><td><a NAME="queue_write">queue_write</a></td><td>Migrator write queue or exchange name</td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="queue_read">queue_read</a></td><td>Migrator read queue or exchange name</td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="queue_purge">queue_purge</a></td><td>Migrator purge queue or exchange name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="migrator_reply"migrator_reply</a></td><td>Migrator reply queue name</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="policy_file">policy_file</a></td><td>Path to file with current policies</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="max_time_in_cache">max_time_in_cache</a></td><td>Maximal time before files get purged from cache</td>
	   <td>Optional</td><td>1 hour</td>
</tr>
<tr><td><a NAME="purge_watermarks">purge_watermarks</a></td><td> Tuple
                <p>
		<ul>
		   <li> start purge if data space is full more than this factor
		   <li> stop purge if data space is full less than this factor
		</ul>
	   </td>
	   <td>Optional</td><td>None</td>
</tr>
<tr><td><a NAME="clustered_configuration">clustered_configuration</a></td><td>Enable clustered configuration</td>
	   <td>Optional</td><td>None (Disabled)</td>
</tr>
</table>

<h2>Library Manager Director</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="queue_in">queue_in</a></td><td>AMQP queue name on which LM director communicates with proxy server</td>
	   <td>Optional. Do not configure it not using UDP Proxy Server</td><td>None</td>
</tr>
<tr><td><a NAME="udp_proxy_server">udp_proxy_server</a></td><td>proxy server with which LM director communicates</td>
	   <td>Optional. encp communicates directly with LMD if proxy is not set.</td><td>None</td>
</tr>
<tr><td><a NAME="udp_port">udp_port</a></td><td>Define this port and set it == 'port' if not using UDP Proxy Server</td>
	   <td>Optional</td><td>None</td>
</tr>
<tr><td><a NAME="policy_file">policy_file</a></td><td>Path to file with current policies</td>
	   <td>Mandatory</td><td>None</td>
</tr>
</table>

<h2>Migrator</h2>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>

<tr><td><a NAME="migration_dispatcher">migration_dispatcher</a></td><td>migration dispatcher in configuration</td>
	   <td>Mandatory</td><td>None</td>
<tr><td><a NAME="migrator_work">migrator_work</a></td><td>migrator work queue or exchange name on which migrator receives requests from dispatcher</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="data_area">data_area</a></td><td>disk area where (written) files are stored</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="archive_area">archive_area</a></td><td>disk area where archive is created during data archiving</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="stage_area">stage_area</a></td><td>disk area where archived files get staged from tape</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="tmp_stage_area">tmp_stage_area</a></td><td>disk area where staged files are temporarily stored</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="aggregation_host">aggregation_host</a></td><td>host on which aggregation (packing) is done (if defined)</td>
	   <td>Optional</td><td>None</td>
</tr>
<tr><td><a NAME="staging_host">staging_host</a></td><td>host on which staging (unpacking) is done (if defined)</td>
	   <td>Optional</td><td>None</td>
</tr>
<tr><td><a NAME="packages_dir">packages_dir</a></td><td>directory in name space for packages</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="dismount_delay">dismount_delay</a></td><td>delay for dismounting tape</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="delta_priority">delta_priority</a></td><td>delta priority for encp calls</td>
	   <td>Optional</td><td>10</td>
</tr>
<tr><td><a NAME="check_written_file">check_written_file</a></td><td>if greater than 0, then randomly check files written using this number as the mean</td>
	   <td>Optional</td><td>0 - do not check</td>
</tr>
<tr><td><a NAME="tar_blocking_factor">tar_blocking_factor</a></td><td>blocking factor for archiver (tar)</td>
	   <td>Optional</td><td>None</td>
</tr>
<tr><td><a NAME="disk_library">disk_library</a></td><td>disk library to which this migrator belongs</td>
	   <td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="max_process">max_process</a></td><td>Maximum number of work processes per migrator</td>
	   <td>Optional</td><td>10</td>
</tr>

</table>

<h2>SFA Stats:defines parameters for SFA monitoring plots (Optional)</h2>
<a NAME="SFA_Stats"></a>
<table border="1" cellpadding="2" cellspacing="5" bgcolor="#DFF0FF">
<tr><th align="CENTER"><strong><font color="#770000" size="+1">Key</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Description</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Presence</font></strong>
</th>
<th align="CENTER"><strong><font color="#770000" size="+1">Default</font></strong>
</th>
</tr>
<tr><td><a NAME="packaging_rates_data">packaging_rates_data</a></td><td>disk area where the data for packaging rate plots is stored</td>
<td>Mandatory</td><td>None</td>
</tr>
<tr><td><a NAME="unpackaging_rates_data">unpackaging_rates_data</a></td><td>disk area where the data for unpackaging rate plots is stored</td>
<td>Mandatory</td><td>None</td>
</tr>

</table>
<p>

<!-- Created: Thu May  6 09:12:39 CDT 2004 -->
<!-- hhmts start -->
Last modified: Wed Dec 12 12:13:22 CST 2012
<!-- hhmts end -->
  </body>
</html>
